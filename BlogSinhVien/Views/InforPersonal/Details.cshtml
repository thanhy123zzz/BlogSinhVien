@model BlogSinhVien.Models.Entities.SinhVien
@{
    ViewData["Title"] = "Trang cá nhân";
    Layout = "~/Views/Shared/_Layout.cshtml";
	BlogSinhVienContext context = new BlogSinhVienContext();
	string getImage(byte[] image)
	{
		if (image == null) return "images/avt.png";
		string imageBase64Data = Convert.ToBase64String(image);
		string imageDataURL = string.Format("data:image/jpg;base64,{0}", imageBase64Data);
		return imageDataURL;
	}
	SinhVien getSinhVien(string maSV){

		return context.SinhVien.Find(maSV);
	}

	QuanLy getQuanLy(string maQL)
	{
		return context.QuanLy.Find(maQL);
	}
}

<div class="container">
<section>
	 <!-- xd add  -->
    @if (TempData["messUpdateSuccess"] != null)
										{
											<script type="text/javascript" charset="utf-8">
												window.onload = function () {
													alert("@Html.Raw(@TempData["messUpdateSuccess"])");
												};
											</script>
										}
    <!-- xd add -->
		<div class="feature-photo">
			<figure><img src="images/resources/timeline-1.jpg" alt=""></figure>
			<div class="add-btn">
				<span>1M theo dõi</span>
				<a href="#" title="" data-ripple="">Thêm bạn mới</a>
			</div>
			<form class="edit-phto">
				<i class="fa fa-camera-retro"></i>
				<label class="fileContainer">
					Thay đổi ảnh bìa
					<input type="file" />
				</label>
			</form>
			<div class="container-fluid">
				<div class="row merged">
					<div class="col-lg-2 col-sm-3">
						<div class="user-avatar">
							<figure>
								@if (User.IsInRole("SV"))
									{
									<img src="@getImage(getSinhVien(User.FindFirst("MaSV").Value.Trim()).HinhAnh)" alt="">
									}

									else
									{
									<img src="@getImage(getQuanLy(User.FindFirst("MaSV").Value.Trim()).HinhAnh)" alt="">
									}
								<form class="edit-phto">
									<i class="fa fa-camera-retro"></i>
									<label class="fileContainer">
										Đổi ảnh đại diện
										<input type="file" />
									</label>
								</form>
							</figure>
						</div>
					</div>
					@* <div class="col-lg-10 col-sm-9">
						<div class="timeline-info">
							<ul>
								<li class="admin-name">
								  <h5>Janice Griffith</h5>
								  <span>Group Admin</span>
								</li>
								<li>
									<a class="" href="time-line.html" title="" data-ripple="">time line</a>
									<a class="" href="timeline-photos.html" title="" data-ripple="">Photos</a>
									<a class="" href="timeline-videos.html" title="" data-ripple="">Videos</a>
									<a class="" href="timeline-friends.html" title="" data-ripple="">Friends</a>
									<a class="" href="groups.html" title="" data-ripple="">Groups</a>
									<a class="" href="about.html" title="" data-ripple="">about</a>
									<a class="active" href="#" title="" data-ripple="">more</a>
								</li>
							</ul>
						</div>
					</div> *@
				</div>
			</div>
		</div>
	</section>
	<section>
		<div class="gap gray-bg">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="row" id="page-contents">
							<div class="col-lg-4">
								<aside class="sidebar static">
									<div class="widget stick-widget">
										<h4 class="widget-title">Chỉnh sửa</h4>
										<ul class="naves">
											<li class="mb-5">
                                                <i class="ti-info-alt"></i>
                                                <a href="/change-information" title="">Thay đổi thông tin</a>
                                            </li>
                                            <li class="mb-5">
                                                <i class="ti-lock"></i>
												<a href="/change-password" title="">Đổi mật khẩu</a>
                                            </li>
										</ul>
									</div><!-- settings widget -->										
								</aside>
							</div><!-- sidebar -->
							<div class="col-lg-8">
								<div class="central-meta">
									<div class="editing-info">
										<style>
											.editing-info label{
												color: #8be594;
											}
											.editing-info input{
												border: none;
												border-bottom: 2px solid #8be594;
												padding: 1%;
												
											}
										</style>
										<h5 class="f-title"><i class="ti-info-alt"></i> Thông tin cá nhân</h5>

										<form method="post">
											<div class="row">
											<div class=" col-6 mb-5">
												<label class="control-label">Họ</label><br>
												<input class="input-group" asp-for="Ho" type="text" id="Ho" readonly/>
											</div>
											<div class=" col-6 mb-5">
											  <label class="control-label" for="Ten">Tên và tên đệm</label><br>
												<input class="input-group" asp-for="Ten" type="text" readonly/>
											</div>
											<div class=" col-6 mb-5">
												<label class="control-label" for="EmailPrivate"><a href="https://wpkixx.com/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4b0e262a22270b">Email cá nhân</a></label><br>

												<input class="input-group" asp-for="EmailPrivate" type="text" readonly />
											</div>
											<div class=" col-6 mb-5">
												<label class="control-label" for="Phone">Số điện thoại</label><br>
												<input class="input-group" asp-for="Phone" type="text" readonly />
											</div>
                                            <div class=" col-6 mb-5">
												<label class="control-label" for="Cccd">Căn cước công dân(CCCD/CMND)</label><br>
												<input class="input-group" asp-for="Cccd" type="text" readonly />
                                              </div>
                                              <div class=" col-6 mb-5">
												<label class="control-label" for="Phone">Email trường</label><br>
												<input class="input-group" asp-for="EmailEdu" type="text" readonly />
                                              </div>
                                              <div class=" col-6 mb-5">
                                                <label class="control-label" for="input">Sinh nhật</label><br>
												<input class="input-group" type="date" required/>
                                              </div>
											  @if(Model.GioiTinh == true){
												<div class=" col-6 mb-5">
													<label class="control-label" for="GioiTinh">Giới tính</label><br>
													<input class="input-group" asp-for="GioiTinh" value="Nam" type="text" readonly />
												</div>
											  }else{
												<div class=" col-6 mb-5">
													<label class="control-label" for="GioiTinh">Giới tính</label><br>
													<input class="input-group" asp-for="GioiTinh" value="Nữ" type="text" readonly />
												</div>
											  }
											  
											<div class="col-12 mb-5">
											  <label class="control-label" for="DiaChi">Địa chỉ</label><br>
												<input class="input-group" asp-for="DiaChi" type="text" readonly />
											</div>
											</div>
											<!--<div class="submit-btns">

												<button type="button" class="mtr-btn"><span>Hủy</span></button>
													<button type="button" class="mtr-btn"><span>Cập nhật</span></button>
											</div> -->
										</form>
									</div>
								</div>	
							</div>
						</div>	
					</div>
				</div>
			</div>
		</div>	
	</section>
	</div>
